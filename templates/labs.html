{% extends "base.html" %}
{% block content %}
<h1 class="text-2xl font-bold mb-4">Labs</h1>

<form class="card p-4 mb-4" method="post" action="{{ url_for('lab_new') }}">
  <div class="grid md:grid-cols-3 gap-3">
    <input type="text" name="name" placeholder="Lab name" class="input" required>
    <input type="text" name="description" placeholder="Description (optional)" class="input">
    <input type="text" name="members_hint" placeholder="Members hint (optional)" class="input">
  </div>
  <div class="mt-3">
    <button class="btn btnp">Add Lab</button>
  </div>
</form>

{% if labs and labs|length %}
<div class="overflow-x-auto card">
  <table class="w-full text-base border border-slate-300">
    <thead>
      <tr class="bg-slate-100">
        <th class="th border-r border-slate-300">Name</th>
        <th class="th border-r border-slate-300">Description</th>
        <th class="th border-r border-slate-300">Members hint</th>
        <th class="th">Actions</th>
      </tr>
    </thead>
    <tbody>
      {% for l in labs %}
      <tr class="row">
        <td class="td border-r border-slate-300 font-semibold">{{ l.name }}</td>
        <td class="td border-r border-slate-300">{{ l.description or "—" }}</td>
        <td class="td border-r border-slate-300">{{ l.members_hint or "—" }}</td>
        <td class="td">
          <form method="post" action="{{ url_for('lab_delete', lab_id=l.id) }}"
                onsubmit="return confirm('Delete lab {{ l.name|e }}?');">
            <button class="btn">Delete</button>
          </form>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% else %}
<p class="text-slate-500">No labs yet. Create one above, then assign items to labs in the item form.</p>
{% endif %}
{% endblock %}
